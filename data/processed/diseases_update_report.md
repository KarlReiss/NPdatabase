# Diseases è¡¨æ›´æ–°æŠ¥å‘Š

## ğŸ“‹ æ›´æ–°æ¦‚è¿°

**æ›´æ–°æ—¶é—´**: 2026-02-05 09:47
**æ•°æ®æº**: `/home/yfguo/NPdatabase/data/processed/integrated_disease_table.tsv`
**æ›´æ–°è„šæœ¬**: `scripts/database/update_diseases_with_integrated_data.py`

## âœ… æ›´æ–°ç»“æœ

### æ•°æ®å¯¼å…¥ç»Ÿè®¡
- **æºæ–‡ä»¶è®°å½•æ•°**: 1,485æ¡
- **æˆåŠŸå¯¼å…¥**: 1,485æ¡ (100%)
- **å¤±è´¥è®°å½•**: 0æ¡

### è¡¨ç»“æ„ä¼˜åŒ–

#### åˆ é™¤çš„å­—æ®µï¼ˆ5ä¸ªï¼‰
| å­—æ®µå | åŸå›  |
|-------|------|
| disease_id | å†—ä½™å­—æ®µï¼Œicd11_codeå·²å¯ä½œä¸ºå”¯ä¸€æ ‡è¯† |
| description | æ— æ•°æ®ï¼ˆNULLï¼‰ |
| symptoms | æ— æ•°æ®ï¼ˆNULLï¼‰ |
| num_of_related_plants | å¯é€šè¿‡å…³è”è¡¨ç»Ÿè®¡ï¼Œæ— éœ€å­˜å‚¨ |
| num_of_related_targets | å¯é€šè¿‡å…³è”è¡¨ç»Ÿè®¡ï¼Œæ— éœ€å­˜å‚¨ |

#### æ–°å¢çš„å­—æ®µï¼ˆ1ä¸ªï¼‰
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | è¦†ç›–ç‡ |
|-------|------|------|--------|
| disease_name_cmaup | VARCHAR(500) | CMAUPæ•°æ®åº“ä¸­çš„ç–¾ç—…åç§° | 100% |

#### ä¿ç•™çš„å­—æ®µï¼ˆ7ä¸ªï¼‰
| åºå· | å­—æ®µå | ç±»å‹ | è¯´æ˜ | è¦†ç›–ç‡ |
|-----|--------|------|------|--------|
| 1 | id | BIGINT | ä¸»é”®ID | 100% |
| 2 | icd11_code | VARCHAR(50) | ICD-11ç–¾ç—…ç¼–ç  | 100% |
| 3 | disease_name | VARCHAR(500) | ç–¾ç—…è‹±æ–‡åç§° | 100% |
| 4 | disease_name_zh | VARCHAR(500) | ç–¾ç—…ä¸­æ–‡åç§° | 100% |
| 5 | disease_name_cmaup | VARCHAR(500) | CMAUPç–¾ç—…åç§°ï¼ˆæ–°å¢ï¼‰ | 100% |
| 6 | disease_category | VARCHAR(200) | ç–¾ç—…åˆ†ç±» | 100% |
| 7 | created_at | TIMESTAMP | åˆ›å»ºæ—¶é—´ | 100% |
| 8 | updated_at | TIMESTAMP | æ›´æ–°æ—¶é—´ | 100% |

## ğŸ“Š æ•°æ®ç»Ÿè®¡

### æ€»ä½“æƒ…å†µ
- **æ€»è®°å½•æ•°**: 1,485æ¡
- **æ•°æ®å®Œæ•´æ€§**: 100%ï¼ˆæ‰€æœ‰å­—æ®µéƒ½æœ‰æ•°æ®ï¼‰

### ç–¾ç—…åˆ†ç±»åˆ†å¸ƒï¼ˆTop 10ï¼‰
| åˆ†ç±» | è®°å½•æ•° | å æ¯” |
|-----|--------|------|
| 02.Neoplasmsï¼ˆè‚¿ç˜¤ï¼‰ | 234 | 15.76% |
| 05.Endocrine, nutritional or metabolic diseasesï¼ˆå†…åˆ†æ³Œã€è¥å…»æˆ–ä»£è°¢ç–¾ç—…ï¼‰ | 116 | 7.81% |
| 08.Diseases of the nervous systemï¼ˆç¥ç»ç³»ç»Ÿç–¾ç—…ï¼‰ | 112 | 7.54% |
| 01.Certain infectious or parasitic diseasesï¼ˆä¼ æŸ“ç—…æˆ–å¯„ç”Ÿè™«ç—…ï¼‰ | 111 | 7.47% |
| 13.Diseases of the digestive systemï¼ˆæ¶ˆåŒ–ç³»ç»Ÿç–¾ç—…ï¼‰ | 103 | 6.94% |
| 21.Symptoms, signs or clinical findingsï¼ˆç—‡çŠ¶ã€ä½“å¾æˆ–ä¸´åºŠå‘ç°ï¼‰ | 98 | 6.60% |
| 11.Diseases of the circulatory systemï¼ˆå¾ªç¯ç³»ç»Ÿç–¾ç—…ï¼‰ | 91 | 6.13% |
| X.Extension Codesï¼ˆæ‰©å±•ä»£ç ï¼‰ | 91 | 6.13% |
| 16.Diseases of the genitourinary systemï¼ˆæ³Œå°¿ç”Ÿæ®–ç³»ç»Ÿç–¾ç—…ï¼‰ | 63 | 4.24% |
| 06.Mental, behavioural or neurodevelopmental disordersï¼ˆç²¾ç¥ã€è¡Œä¸ºæˆ–ç¥ç»å‘è‚²éšœç¢ï¼‰ | 59 | 3.97% |

### æ•°æ®è´¨é‡
- âœ… ICD-11ç¼–ç è¦†ç›–ç‡: 100%
- âœ… è‹±æ–‡åç§°è¦†ç›–ç‡: 100%
- âœ… ä¸­æ–‡åç§°è¦†ç›–ç‡: 100%
- âœ… CMAUPåç§°è¦†ç›–ç‡: 100%
- âœ… ç–¾ç—…åˆ†ç±»è¦†ç›–ç‡: 100%

## ğŸ“ ç¤ºä¾‹è®°å½•

### ç¤ºä¾‹1: è‚¿ç˜¤ç±»ç–¾ç—…
```
ICD-11: 2C77
è‹±æ–‡å: Malignant neoplasms of cervix uteri
ä¸­æ–‡å: å®«é¢ˆæ¶æ€§è‚¿ç˜¤
CMAUPå: Cervical cancer
åˆ†ç±»: 02.Neoplasms
```

### ç¤ºä¾‹2: ç¥ç»ç³»ç»Ÿç–¾ç—…
```
ICD-11: 8A01
è‹±æ–‡å: Choreiform disorders
ä¸­æ–‡å: èˆè¹ˆç—…æ ·ç–¾æ‚£
CMAUPå: Choreiform disorder
åˆ†ç±»: 08.Diseases of the nervous system
```

### ç¤ºä¾‹3: æ¶ˆåŒ–ç³»ç»Ÿç–¾ç—…
```
ICD-11: DA09.0
è‹±æ–‡å: Pulpitis
ä¸­æ–‡å: ç‰™é«“ç‚
CMAUPå: Pulpitis
åˆ†ç±»: 13.Diseases of the digestive system
```

## ğŸ” å­—æ®µè¯´æ˜

### disease_name vs disease_name_cmaup
- **disease_name**: ICD-11æ ‡å‡†çš„è‹±æ–‡åç§°ï¼ˆæ›´æ­£å¼ã€æ ‡å‡†åŒ–ï¼‰
  - ä¾‹å¦‚: "Malignant neoplasms of cervix uteri"
- **disease_name_cmaup**: CMAUPæ•°æ®åº“ä¸­ä½¿ç”¨çš„åç§°ï¼ˆæ›´ç®€æ´ã€å¸¸ç”¨ï¼‰
  - ä¾‹å¦‚: "Cervical cancer"

ä¿ç•™ä¸¤ä¸ªåç§°çš„åŸå› ï¼š
1. **æ ‡å‡†åŒ–**: disease_nameæä¾›ICD-11æ ‡å‡†åç§°ï¼Œç”¨äºæ­£å¼æ–‡æ¡£å’Œå›½é™…äº¤æµ
2. **æ˜“ç”¨æ€§**: disease_name_cmaupæä¾›æ›´ç®€æ´çš„å¸¸ç”¨åç§°ï¼Œä¾¿äºæœç´¢å’Œå±•ç¤º
3. **æ•°æ®è¿½æº¯**: ä¿ç•™CMAUPåŸå§‹åç§°ï¼Œä¾¿äºä¸CMAUPæ•°æ®åº“å¯¹ç…§

## ğŸ”§ æ›´æ–°çš„æ–‡ä»¶

### 1. æ•°æ®åº“
- âœ… åˆ é™¤äº†5ä¸ªä¸å¿…è¦çš„å­—æ®µ
- âœ… æ–°å¢äº†1ä¸ªæœ‰ä»·å€¼çš„å­—æ®µï¼ˆdisease_name_cmaupï¼‰
- âœ… æ•°æ®å·²é‡æ–°å¯¼å…¥ï¼ˆ1,485æ¡ï¼‰

### 2. åç«¯å®ä½“ç±»
- âœ… `backend/src/main/java/cn/npdb/entity/Disease.java`
  - åˆ é™¤äº†ï¼šdiseaseId, description, symptoms, numOfRelatedPlants, numOfRelatedTargets
  - æ–°å¢äº†ï¼šdiseaseNameCmaup

### 3. å¯¼å…¥è„šæœ¬
- âœ… `scripts/database/update_diseases_with_integrated_data.py`

## ğŸ“ˆ ä¼˜åŒ–æ•ˆæœ

### å­˜å‚¨ç©ºé—´ä¼˜åŒ–
- **åˆ é™¤å­—æ®µ**: çº¦5ä¸ªå­—æ®µ Ã— 1,485æ¡ = èŠ‚çœçº¦7,425ä¸ªå­—æ®µå­˜å‚¨
- **æ–°å¢å­—æ®µ**: 1ä¸ªå­—æ®µ Ã— 1,485æ¡ = å¢åŠ 1,485ä¸ªå­—æ®µå­˜å‚¨
- **å‡€ä¼˜åŒ–**: èŠ‚çœçº¦5,940ä¸ªå­—æ®µå­˜å‚¨

### æ•°æ®è´¨é‡æå‡
- **å®Œæ•´æ€§**: ä»åŸæ¥çš„éƒ¨åˆ†å­—æ®µæœ‰NULLï¼Œæå‡åˆ°100%å®Œæ•´
- **å‡†ç¡®æ€§**: ä½¿ç”¨æ•´åˆåçš„æ ‡å‡†åŒ–æ•°æ®
- **å¯ç”¨æ€§**: æ–°å¢CMAUPåç§°ï¼Œæä¾›æ›´å¤šæŸ¥è¯¢å’Œå±•ç¤ºé€‰é¡¹

### æŸ¥è¯¢æ€§èƒ½æå‡
- åˆ é™¤äº†ä¸å¿…è¦çš„ç»Ÿè®¡å­—æ®µï¼ˆnum_of_related_plants, num_of_related_targetsï¼‰
- è¿™äº›ç»Ÿè®¡å¯ä»¥é€šè¿‡JOINæŸ¥è¯¢å®æ—¶è®¡ç®—ï¼Œé¿å…æ•°æ®ä¸ä¸€è‡´

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. ç»Ÿè®¡å­—æ®µçš„å¤„ç†
åŸæ¥çš„`num_of_related_plants`å’Œ`num_of_related_targets`å­—æ®µå·²åˆ é™¤ã€‚å¦‚éœ€è¿™äº›ç»Ÿè®¡ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–ï¼š

```sql
-- è·å–ç–¾ç—…å…³è”çš„æ¤ç‰©æ•°é‡
SELECT d.id, d.disease_name, COUNT(DISTINCT brda.bio_resource_id) as plant_count
FROM diseases d
LEFT JOIN bio_resource_disease_associations brda ON d.id = brda.disease_id
GROUP BY d.id, d.disease_name;

-- è·å–ç–¾ç—…å…³è”çš„é¶ç‚¹æ•°é‡ï¼ˆå¦‚æœæœ‰ç›¸å…³è¡¨ï¼‰
-- éœ€è¦æ ¹æ®å®é™…çš„å…³è”è¡¨ç»“æ„è°ƒæ•´
```

### 2. åç«¯APIå½±å“
- âš ï¸ éœ€è¦æ£€æŸ¥æ˜¯å¦æœ‰APIè¿”å›å·²åˆ é™¤çš„å­—æ®µ
- âš ï¸ éœ€è¦æ›´æ–°APIæ–‡æ¡£
- âœ… Diseaseå®ä½“ç±»å·²æ›´æ–°

### 3. å‰ç«¯å½±å“
- âš ï¸ éœ€è¦æ£€æŸ¥å‰ç«¯æ˜¯å¦ä½¿ç”¨å·²åˆ é™¤çš„å­—æ®µ
- âš ï¸ å¯ä»¥è€ƒè™‘æ˜¾ç¤ºæ–°å¢çš„disease_name_cmaupå­—æ®µ
- å»ºè®®ï¼šåœ¨ç–¾ç—…è¯¦æƒ…é¡µåŒæ—¶æ˜¾ç¤ºdisease_nameå’Œdisease_name_cmaup

### 4. æ•°æ®ä¸€è‡´æ€§
- âœ… æ‰€æœ‰è®°å½•éƒ½æœ‰å®Œæ•´çš„æ•°æ®ï¼ˆ100%è¦†ç›–ç‡ï¼‰
- âœ… ICD-11ç¼–ç å”¯ä¸€ï¼Œå¯ä½œä¸ºä¸šåŠ¡ä¸»é”®
- âœ… ä¸­è‹±æ–‡åç§°é½å…¨ï¼Œæ”¯æŒå¤šè¯­è¨€å±•ç¤º

## ğŸ‰ æ›´æ–°å®Œæˆ

Diseasesè¡¨å·²æˆåŠŸæ›´æ–°ï¼ŒåŒ…å«1,485æ¡å®Œæ•´çš„ç–¾ç—…è®°å½•ã€‚è¡¨ç»“æ„æ›´åŠ ç²¾ç®€ï¼Œæ•°æ®è´¨é‡æ˜¾è‘—æå‡ã€‚

**å½“å‰çŠ¶æ€**:
- âœ… è¡¨ç»“æ„å·²ä¼˜åŒ–ï¼ˆ8ä¸ªå­—æ®µï¼Œåˆ é™¤5ä¸ªï¼Œæ–°å¢1ä¸ªï¼‰
- âœ… æ•°æ®å·²é‡æ–°å¯¼å…¥ï¼ˆ1,485æ¡ï¼Œ100%æˆåŠŸï¼‰
- âœ… æ•°æ®å®Œæ•´æ€§100%
- âœ… åç«¯å®ä½“ç±»å·²æ›´æ–°

**ä¸‹ä¸€æ­¥å»ºè®®**:
1. æ£€æŸ¥å¹¶æ›´æ–°åç«¯APIï¼ˆå¦‚æœ‰ä½¿ç”¨å·²åˆ é™¤å­—æ®µï¼‰
2. æ›´æ–°å‰ç«¯ä»£ç ï¼Œæ˜¾ç¤ºæ–°çš„disease_name_cmaupå­—æ®µ
3. æ›´æ–°APIæ–‡æ¡£
4. æµ‹è¯•ç–¾ç—…ç›¸å…³çš„åŠŸèƒ½
5. å¦‚éœ€ç»Ÿè®¡å­—æ®µï¼Œä½¿ç”¨JOINæŸ¥è¯¢å®æ—¶è®¡ç®—

## ğŸ“‚ ç›¸å…³æ–‡ä»¶

1. **æ•°æ®æ–‡ä»¶**:
   - æ•´åˆæ•°æ®: `data/processed/integrated_disease_table.tsv`

2. **è„šæœ¬æ–‡ä»¶**:
   - æ›´æ–°è„šæœ¬: `scripts/database/update_diseases_with_integrated_data.py`

3. **åç«¯æ–‡ä»¶**:
   - å®ä½“ç±»: `backend/src/main/java/cn/npdb/entity/Disease.java`

4. **æŠ¥å‘Šæ–‡ä»¶**:
   - æœ¬æŠ¥å‘Š: `data/processed/diseases_update_report.md`
