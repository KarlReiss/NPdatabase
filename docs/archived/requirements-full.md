## 🤖 Assistant

天然产物数据库需求文档
版本：V1.1（仅展示/检索/浏览；基于评审决策更新）
日期：2026-01-20

### V1.1 更新摘要
- 数据模型：取消 BioResource 作为独立核心实体，改为药材（MateriaMedica）的元数据字段；明确“方剂（Formula）为药材上一层级”。
- 证据模型：一期 Bioactivity 聚焦“化合物-基因靶点”实验记录；疾病关联通过“基因→疾病/通路→疾病”关系实现。
- 单位标准化：对常见活性指标做标准化存储，用于阈值筛选与排序。
- ID 策略：数据库主键使用整数/UUID；NP_ 前缀作为展示用稳定业务ID。
- 权限：一期仅登录门槛（未登录不可见；登录后全部可见）；不做导出与对外 API。
- 检索：同义词/别名/拼音等采用 1:N 结构，支持检索与索引。

1. 背景与目标
1.1 背景
天然产物相关数据覆盖“资源（植物/动物/微生物/中药民族药）—成分/化合物—活性/毒性—靶点（蛋白/基因）—通路—疾病/证候—实验与组学/质谱证据”的全链条。现阶段需要先完成数据的标准化展示与交互入口，为后续扩展分析/模型打基础。

1.2 一期建设目标（本期范围）
- 建立统一的数据浏览与检索门户（Web，前后端分离，需要用到数据库；一期不对外开放API，但可预留对外API扩展位）。
- 支持核心实体与关系的“可解释、可追溯”展示：从任意实体可跳转到关联实体（类似知识图谱的导航，但不做推理/挖掘）。
- 支持多维筛选、排序、分页（基础能力）。
- 暂不考虑数据分级展示：一期仅做“未登录不可见；登录后全部可见”。
- 支持数据来源/证据链展示（文献、数据库来源、实验条件等元数据）。

1.3 非目标（明确不做）
- 不提供AI预测、智能推荐、自动机理解析、网络药理算法、富集分析等。
- 不做多组学/LC-MS的深度计算分析，仅做结构化结果与文件/图谱的展示与下载（如有）。
- 不做区块链确权实现。

2. 用户与使用场景
2.1 角色定义
- 未登录用户：无法进入系统。
- 登录用户：可浏览与检索一期全部数据、查看证据详情。
- 数据管理员：仅后台管理数据（字典、导入、审核/发布），一期不开放前台差异化权限。

2.2 典型场景（一期必须覆盖）
- 场景A：从“药材/民族药”进入，查看其“成分列表—活性记录—靶点—疾病/证候”的链路。
- 场景B：从“化合物（SMILES/名称）”进入，查看理化性质、活性/毒性、靶点与证据来源，包含这个化合物的天然产物。
- 场景C：从“靶点（基因/蛋白ID）”进入，查看关联化合物、通路、疾病，并可筛选活性阈值。
- 场景D：专题库浏览（如抗肿瘤/抗炎免疫/心脑血管），按活性指标筛选并浏览（一期不做导出）。
- 场景E：查看LC-MS结果（峰表、保留时间、m/z等）以及与推断化合物的关联（如有）。

3. 数据范围与逻辑关系（核心数据模型）
3.1 核心实体（Entity）
一期建议至少包含以下实体类型（对应PPT链条）：
A. 资源类
- 药材/中药/民族药（MateriaMedica）：中名/拉丁名/别名/药用部位/性味/功能主治/禁忌/族群与传统应用
  - 注：BioResource（生物资源）不作为独立核心实体。一期将“分类学信息、采集地等”作为药材的元数据字段（metadata）存储。
- 方剂/组合（Formula）：方名、组成（可结构化或文本），用于作为药材的上层组织维度（一期暂不强制结构化君臣佐使/证候）。

B. 成分与化合物类
- 成分/化合物（Compound/Ingredient）：名称、SMILES、分子式、分子量、XLogP、PSA等
- 可扩展：同义词/外部ID（PubChem、ChEMBL等如有）

C. 生物学与医学类
- 靶点（Target）：一期以“基因”为靶点口径（gene symbol / gene id），可选存蛋白ID（UniProt等）、物种、功能注释（GO摘要）
- 通路（Pathway）：KEGG/Reactome等ID、名称、描述
- 疾病（Disease）：西医分类体系（ICD/MeSH等如有）、名称、同义词
- 证候/中医证型（Syndrome）：证型名称、症状集（若有）

E. 映射/关联类（一期纳入）
- 疾病-证候映射（DiseaseSyndromeMap）：人工维护映射表（可多对多），支持检索与展示（一期不做自动推断）

D. 证据与实验数据类
- 活性/毒性记录（Bioactivity/Toxicity）：一期核心为“化合物-基因靶点”的实验记录（IC50/EC50/ED50/Ki/MIC等、单位、实验体系（细胞/组织/体内）、条件、结论）
  - 疾病关联路径：化合物 →（Bioactivity）→ 基因靶点 →（TargetDisease/TargetPathway）→ 疾病
- 文献/来源（Reference）：文献条目、数据库来源、DOI/PMID、采集时间
- LC-MS记录（LCMSPeak/LCMSRun）：峰表（m/z、RT、强度、误差、ESI模式）、关联样品/药材、推断化合物（如有）
- 组学数据索引（OmicsDataset，若一期仅展示索引）：基因组/转录组、样本信息、下载链接/存储位置

3.2 核心关系（Relation）
一期必须支持“可点击跳转 + 列表展示”的关系：
- 药材 “含有” 化合物（MateriaMedica —contains— Compound）
- 方剂 “包含/使用” 药材（Formula —contains— MateriaMedica）
- 化合物 “作用于/调控” 基因靶点（Compound —acts_on— Target）
- 基因靶点 “参与” 通路（Target —in_pathway— Pathway）
- 基因靶点/通路 “关联” 疾病（Target/Pathway —associated_with— Disease）
- 疾病 “映射” 证候（Disease —maps_to— Syndrome，通过 DiseaseSyndromeMap 人工维护）
- 药材/方剂 “治疗/用于” 疾病 或 “对应” 证候（MateriaMedica/Formula —treats— Disease/Syndrome）
- 活性记录 “证据支持” 化合物-基因靶点关系（Bioactivity 作为该关系的证据表）
- LC-MS峰 “注释为” 化合物（LCMSPeak —annotated_to— Compound，若有）

3.3 关键约束与数据口径
- 同一化合物可能来自多个药材；同一药材含多个化合物（多对多）。
- 活性记录必须绑定“对象（化合物）+ 目标（基因靶点）+ 指标 + 单位 + 实验条件 + 来源”。
- 所有实体均需“数据来源/版本/更新时间/责任人（可选）/可见级别”。
- 统一ID策略：
  - 数据库主键：整数或 UUID（实现选型决定），用于关联与性能。
  - 展示用业务ID：NP_ 前缀 + 实体类型码 + 序号（例如 NP_CMP_000001），稳定可引用。
  - 外部ID：通过映射表维护（可多值）。

3.4 一期 Bioactivity 建模约定（落库建议）
- 一期采用“拆分表”以降低多态复杂度：
  - compound_target_bioactivity：化合物-基因靶点活性/毒性记录（一期必须）
  - 其它类型（如 compound_disease_bioactivity、compound_microbe_bioactivity）一期不纳入，可预留二期扩展。
- 基因→疾病关联通过 TargetDisease（或 TargetPathway→Disease）实现，不要求 Bioactivity 直接指向 Disease。

4. 产品范围与功能需求（一期）
4.1 信息架构（导航）
- 首页：全局搜索框 + 专题入口 + 数据统计概览（条目数、数据类型覆盖）
- 数据浏览（按实体）：
 - 药材库
 - 方剂库
 - 化合物库
 - 靶点库
 - 通路库
 - 疾病/证候库
 - 活性/毒性记录库
 - LC-MS/组学（如纳入一期则为“数据集索引”模块）
- 专题库入口：抗肿瘤 / 心脑血管 / 抗炎免疫 / 有毒药材 / 药食同源（仅展示与筛选）

4.2 全局检索（必须）
- 支持关键词检索：中文名/拉丁名/拼音/别名/外部ID/SMILES/基因符号/蛋白ID等。
- 结果分tab按实体类型聚合；支持在结果内二次筛选。
- 高级检索（一期建议支持基础版）：
 - 化合物：分子量范围、XLogP范围、是否有活性记录、活性阈值
 - 活性记录：指标类型（IC50等）、数值范围、单位、疾病/靶点、实验体系
  - 注：疾病筛选可通过“靶点→疾病”关联实现（若一期需要）。
  - 药材：分类学元数据（如科/属/种等，若有）、药用部位、民族/族群标签、是否毒性标记、是否药食同源

4.3 列表页（Browse/List）通用交互（必须）
- 分页、排序（按名称、更新时间、记录数、活性最强/最弱等可配置）。
- 多条件筛选（可组合），筛选条件可“清空/保存为常用筛选”（保存可选）。
- 列表字段可配置显示/隐藏（按角色）。
- 一期不提供导出（CSV/Excel）功能。

4.4 详情页（Detail）展示规范（必须）
每个实体详情页包含：
- 基本信息卡片（名称、ID、同义词、分类、标签）
- 关联数据分区（tabs或section）：关联实体列表 + 关系说明 + 证据数量
- 证据/来源分区：文献、数据库来源、采集时间、数据版本、可信度/质量标记
- 可视化（轻量）：关系网络小图（可选，但仅用于导航展示，不做计算分析）
- 操作：复制ID/SMILES、跳转外部资源（如PubChem/UniProt，若有链接）

注：一期不提供“下载关联表/导出”能力。

4.5 重点实体详情页字段要求（示例）
A. 药材/民族药详情页
- 基础：中名、拉丁名、拼音、别名、药用部位、性味、归经（如有）、功能主治、禁忌、毒性及中毒救治、传统应用、族群/民族体系
- 关联：含有化合物、对应疾病/证候、相关方剂/组合、相关LC-MS/组学数据集（如有）
- 支持“按活性强度筛选该药材下的化合物”

B. 化合物详情页
- 基础：名称、SMILES、分子式、分子量、XLogP、PSA、结构图（可由SMILES渲染）
- 关联：来源药材/方剂（如有）、活性/毒性记录、靶点、疾病、通路（经靶点间接展示）
- 活性区：按指标类型聚合统计（记录数、最小值/中位数等仅做展示统计，不做推断）

C. 靶点详情页
- 基础：基因符号、蛋白ID（UniProt等）、物种、功能注释（GO摘要）
- 关联：相关化合物（可按IC50阈值筛选）、相关通路、相关疾病
- 证据：对应活性记录与来源

D. 疾病/证候详情页
- 基础：名称、分类体系、同义词
- 关联：相关靶点、相关化合物、相关药材/方剂
- 支持“从疾病出发查看可用证据最多的Top关联化合物/药材”（按记录数统计）

4.6 LC-MS/组学展示（若一期纳入）
- 一期选择：仅做“数据集索引+基础展示”，不做在线峰表检索/过滤与深度注释分析。
  - LC-MS Run详情：样品信息、仪器/模式、峰表文件链接/下载、可选存储预生成图（如有）
  - 峰详情（如纳入峰级数据）：m/z、RT、强度、误差、ESI模式；若存在注释结果，可存储：method、score、tolerance_ppm、library、annotation_level、reference_id（用于追溯）
  - 组学数据：仅做数据集索引（样本、平台、处理流程摘要、下载链接/联系人）

4.7 权限与访问控制（一期约定）
- 一期仅提供登录门槛：未登录不可访问；登录后可访问一期全部数据。
- 管理员能力仅在后台：数据字典、导入、审核/发布。
- 一期暂不提供对外 API；前后端交互为系统内部接口实现细节，不作为对外承诺。

4.8 管理后台（一期最小可用）
- 数据字典：指标类型（IC50等）与单位标准、疾病分类、药用部位枚举、民族体系标签等。
- 数据导入：支持模板导入（CSV/Excel）+ 字段映射 + 校验报告（重复、缺失、单位不一致）。
- 数据审核：草稿/待审/已发布/下线状态流转；发布记录可追溯。
- 质量标记：可信度等级、证据类型（文献/实验/推断）、冲突提示（同一关系多来源）。

5. 交互与页面清单（一期交付物）
- 首页（统计概览、专题入口、全局搜索）
- 全局搜索结果页（按实体聚合）
- 浏览列表页：药材、方剂、化合物、靶点、通路、疾病/证候、活性记录、LC-MS/组学
- 详情页：上述实体各一套
- 专题页：抗肿瘤/心脑血管/抗炎免疫/毒性/药食同源（本质为预置筛选的列表页）
- 管理后台：登录、角色权限、字典、导入、审核、发布记录

6. 数据标准与一致性要求（展示优先）
- 名称与同义词：采用 1:N 结构存储（同义词/别名/拼音/拉丁名等作为别名记录），支持检索与索引。
- 单位标准：一期必须对常见活性指标的常见单位做标准化，存“原始值+原始单位+标准化值+标准单位”，用于阈值筛选与强弱排序。
- ID规范：数据库主键稳定；展示用 NP_* 业务ID稳定可引用；外部ID允许为空但需预留，并通过映射表支持多值。
- 证据最小集：任何“作用于/关联/治疗”关系都应有来源（Reference）或标记为“来源未知/待补充”。

6.1 审计与追溯字段（建议统一）
- created_at / updated_at（必选）
- created_by / updated_by（可选）
- import_batch_id（建议：导入批次追溯）
- source_version / source_name（建议：来源版本追溯）

7. 非功能性需求
- 性能：列表查询<2s（常用筛选），详情页<2s；支持百万级记录分页（后端需优化）。
- 可用性：字段命名对科研用户友好；提供中英文字段映射（可选）。
- 可维护性：数据模型可扩展到知识图谱与分析引擎，但一期只做展示层。
- 安全：登录鉴权、操作审计（至少后台导入/审核/发布需审计）；一期不提供导出能力。
- 兼容：主流浏览器；响应式可选（至少支持桌面端）。

8. 数据逻辑关系的展示方式（一期建议）
- “关系网络小图”：在详情页展示一层或两层邻居（例如化合物→靶点→疾病），点击节点跳转详情；不做算法推荐。
- “证据表驱动”：所有关系边都可展开查看其活性记录/文献列表。
- “链路导航”：提供预置路径按钮：
  - 药材 → 化合物 → 靶点 → 疾病
  - 化合物 → 活性记录 → 靶点 → 疾病
  - 靶点 → 通路 → 疾病

9. 一期验收标准（可量化）
- 能按实体类型完成检索、筛选、详情查看、关联跳转。
- 能在详情页查看关系证据（至少文献/来源信息可追溯）。
- 权限生效：未登录不可访问；登录后可访问一期全部数据；管理员可完成后台导入/审核。
- 数据导入可跑通：模板导入后能在前台展示并可追溯到导入批次。
- 专题库页面可用：至少3个专题可通过预置筛选正确呈现。

10. 关键决策表（已确认，固化为V1.1约定）

| 决策点 | 选项A | 选项B | 选项C | 实际选择 |
|---|---|---|---|---|
| 1. 一期是否结构化支持“方剂/君臣佐使/证候” | 不做结构化，仅保留字段/文本描述与索引；先打通“药材-化合物-靶点-疾病” | 做“方剂”实体，但君臣佐使只做文本 | 全量结构化（方剂+组成+君臣佐使+证候映射） | A |
| 2. LC-MS/组学一期深度 | 仅索引+下载（Run/Peak表可存，前台仅基础展示与下载） | 在线峰表检索/过滤（m/z、RT、强度等） | 加注释链路（Peak→Compound）+ 置信度展示 | A |
| 3. 数据来源合规边界（哪些字段必须受限） | 记录级 + 字段级混合：受限字段列清单 + 数据级别tags | 仅字段级（DTO裁剪，不做记录级） | 仅记录级（所有字段一致） | A（一期简化为“登录门槛”，不落地受限字段） |
| 4. 是否对接“云南生物资源数字一张网”统一登录/编码 | 不对接，一期自建账号体系；预留SSO/OIDC接口 | 对接统一登录（OIDC/SAML），编码体系二期迁移 | 对接登录 + 编码体系强绑定一期落地 | A |
| 5. 中西医疾病体系映射（ICD/MeSH ↔ 证型） | 一期不做映射，只并列展示Disease与Syndrome | 做“人工映射表”（可维护） | 自动映射/推断（不在一期目标内） | B |
| 6. 活性单位标准化（关键） | 必须做：至少 IC50/EC50/Ki/MIC 常见单位统一到标准单位并存原值 | 不做换算，仅“同单位内筛选/排序”并在产品上限制 | 全量换算 + 质量标记/冲突处理 | A |

11. 页面字段与交付细则（一期｜可直接开工版本）

11.1 范围与入口（一期必须）
- 前台 4 个一级入口：药材 / 化合物 / 靶点 / 方剂。
- 一期必须支持“按疾病筛选”（在化合物库、靶点库、活性记录库等处体现；疾病筛选口径见 11.2.0）。

11.2 全局约定（适用于所有列表/详情）
- 分页：服务端分页；默认 pageSize=20；支持 20/50/100；最大 100。
- 排序：服务端排序；仅允许对“明确索引字段”排序（名称、更新时间、记录数、标准化活性值等）。
- 检索：全局关键词检索与各列表页关键词检索均需要覆盖：名称、别名/同义词、拼音、拉丁名（如有）、外部ID（如有）。
- 业务ID展示：所有详情页与列表页均展示 NP_* 业务ID（例如 NP_CMP_000001）。
- 证据展示：所有“关联/作用/治疗/映射”关系在详情页必须能追溯到 Reference（至少显示来源名称 + DOI/PMID/URL 之一）。
- 活性数值：
  - 展示同时包含原始值（value_raw + unit_raw）与标准化值（value_std + unit_std）。
  - 阈值筛选与强弱排序默认基于标准化值 value_std。
- 权限：一期仅登录门槛（未登录不可见；登录后全部可见）。
- 导出/下载：一期不提供列表导出与“下载关联表”；LC-MS/组学如有文件则允许下载文件本身。

11.2.0 “按疾病筛选”的统一口径（一期必须）
- 疾病筛选不是直接基于 Bioactivity 指向 Disease，而是基于以下反查链路实现：
  - 化合物 →（compound_target_bioactivity）→ 靶点（基因） →（TargetDisease / Pathway→Disease）→ 疾病
- 对任何支持“按疾病筛选”的页面：
  - 筛选条件为 Disease（支持名称/别名/体系ID 搜索）。
  - 返回结果必须包含“匹配依据计数”：至少展示关联靶点数或关联活性记录数（用于解释为什么被筛出来）。

11.3 列表页字段与筛选（Browse/List）

11.3.1 药材库（MateriaMedica List）
- 列表字段（默认）：业务ID、药材中名、拉丁名（如有）、拼音（如有）、药用部位、毒性标记、药食同源、民族/族群标签（可多值）、更新时间。
- 可选字段：分类学元数据（科/属/种等，若有）、别名数、含有化合物数、关联活性记录数。
- 筛选：关键词、药用部位、毒性标记、药食同源、民族/族群标签、分类学元数据（若有）。
- 排序：名称、更新时间、含有化合物数、关联活性记录数。

11.3.2 方剂库（Formula List，基础索引）
- 列表字段（默认）：业务ID、方名、组成摘要（文本）、包含药材数（如可计算）、更新时间。
- 筛选：关键词（方名/别名/拼音）、包含药材（可选）。
- 排序：名称、更新时间、包含药材数。

11.3.3 化合物库（Compound List）
- 列表字段（默认）：业务ID、名称、SMILES（可折叠显示）、分子量、XLogP、PSA、来源药材数、靶点数（基因数）、活性记录数、更新时间。
- 筛选：
  - 关键词（名称/别名/外部ID/SMILES）
  - 分子量范围、XLogP范围、PSA范围
  - 是否有活性记录
  - 活性阈值：指标类型（IC50/EC50/Ki/MIC等）+ value_std 范围
  - 靶点（基因符号/ID，可选）
  - 疾病（一期必须；按 11.2.0 口径反查）
  - 来源药材（可选）
- 排序：名称、分子量、活性记录数、更新时间、（可选）最强活性（按 value_std 最小值）。

11.3.4 靶点库（Target/Gene List）
- 列表字段（默认）：业务ID、基因符号、基因ID（如有）、物种、蛋白ID（如有）、关联化合物数、关联疾病数、更新时间。
- 筛选：关键词（基因符号/外部ID）、物种、疾病（一期必须；按 11.2.0 口径）。
- 排序：名称、更新时间、关联化合物数、关联疾病数。

11.3.5 疾病/证候库（Disease & Syndrome List）
- 疾病列表字段（默认）：业务ID、名称、体系ID（ICD/MeSH等如有）、别名数、关联靶点数、更新时间。
- 证候列表字段（默认）：业务ID、证型名称、症状集（摘要）、映射疾病数、更新时间。
- 筛选：关键词、体系ID（疾病）、是否已建立映射（证候）。
- 排序：名称、更新时间、关联靶点数/映射数。

11.3.6 通路库（Pathway List）
- 列表字段（默认）：业务ID、名称、来源体系（KEGG/Reactome等）、外部ID、关联靶点数、关联疾病数、更新时间。
- 筛选：关键词、来源体系。
- 排序：名称、更新时间、关联靶点数。

11.3.7 活性/毒性记录库（Bioactivity List，一期为 compound_target_bioactivity）
- 列表字段（默认）：化合物、靶点（基因）、指标类型、标准化值（value_std+unit_std）、原始值（value_raw+unit_raw）、实验体系（细胞/体内等）、参考文献数、更新时间。
- 筛选：
  - 关键词（化合物名/ID、基因符号/ID）
  - 指标类型
  - value_std 范围
  - 实验体系/模型（若结构化存储）
  - 疾病（一期必须；按 11.2.0 口径反查）
- 排序：value_std（升/降）、更新时间。

11.3.8 LC-MS/组学（DataSet Index）
- 列表字段（默认）：业务ID、数据类型（LC-MS/组学）、样品/来源药材（如有）、仪器/模式（如有）、文件链接、更新时间。
- 筛选：数据类型、来源药材（可选）。

11.4 详情页字段与关联区块（Detail）

11.4.1 药材详情（MateriaMedica Detail）
- 基本信息：业务ID、中名、拉丁名、拼音、药用部位、性味/功能主治/禁忌（文本）、毒性与救治（文本）、传统应用（文本）、民族/族群标签、分类学元数据（若有）。
- 关联区块：
  - 含有化合物：列表 + 可按活性强度筛选（指标类型 + value_std 阈值）
  - 相关方剂：展示包含该药材的方剂列表（如数据存在）
  - 相关疾病/证候：通过“化合物→靶点→疾病/证候映射”聚合展示（显示证据计数/关联计数）
  - 相关 LC-MS/组学：数据集索引
- 证据/来源：展示该药材条目的 Reference 列表与导入批次（import_batch_id）。

11.4.2 方剂详情（Formula Detail，基础展示）
- 基本信息：业务ID、方名、别名（如有）、组成（文本/结构化若有）、备注。
- 关联区块：包含药材列表；可进一步跳转到药材详情。
- 证据/来源：Reference 列表（如有）。

11.4.3 化合物详情（Compound Detail）
- 基本信息：业务ID、名称、别名、SMILES、分子式、分子量、XLogP、PSA、结构图（由SMILES渲染）。
- 关联区块：
  - 来源药材/方剂（如有）：药材列表；可按“证据来源”过滤（可选）
  - 活性记录：compound_target_bioactivity 列表（支持按指标类型与 value_std 范围筛选）
  - 靶点：按基因聚合（显示最强/最弱活性摘要与证据数）
  - 疾病/通路：通过靶点间接展示（显示证据计数/关联计数）
- 证据/来源：Reference 汇总（可按来源类型分组：文献/数据库）。

11.4.4 靶点详情（Target/Gene Detail）
- 基本信息：业务ID、基因符号、基因ID、物种、蛋白ID（可选）、GO摘要（文本）。
- 关联区块：
  - 相关化合物：支持按指标类型与 value_std 阈值筛选
  - 相关通路、相关疾病：列表 + 证据计数
- 证据/来源：活性记录与 Reference。

11.4.5 疾病/证候详情（Disease/Syndrome Detail）
- 疾病：名称、体系ID、别名；关联靶点、关联化合物（通过靶点反查）、关联药材/方剂（通过化合物反查）。
- 证候：证型名称、症状集（若有）；映射疾病列表（DiseaseSyndromeMap）。

11.4.6 LC-MS 数据集详情（如纳入）
- Run：样品信息、仪器/模式、峰表文件链接/下载、（可选）预生成图链接。
- Peak（如纳入）：m/z、RT、强度、误差、ESI模式；注释字段（method、score、tolerance_ppm、library、annotation_level、reference_id）。

11.5 管理后台（一期最小可用）
- 登录：管理员账号登录。
- 数据字典：
  - 指标类型与单位标准（定义可标准化的单位集合与换算规则）
  - 疾病分类体系（ICD/MeSH等可选）
  - 药用部位枚举、民族/族群标签枚举
- 数据导入：
  - 模板：药材、方剂、化合物、靶点（基因）、疾病、证候、疾病-证候映射、药材-化合物关系、方剂-药材关系、靶点-疾病关系、靶点-通路关系、compound_target_bioactivity、reference
  - 校验：必填字段、唯一性（业务ID/外部ID）、外键存在性、单位是否在字典内、标准化值是否可计算/是否提供。
  - 追溯：每次导入生成 import_batch_id；前台详情页可追溯。
- 数据审核/发布：草稿/待审/已发布/下线状态流转；发布记录可追溯。

11.6 UI/UX 规格（数据平台风｜浅绿色主题｜桌面优先）
11.6.1 设计原则
- 信息密度优先：列表页以表格为核心，筛选区固定可折叠。
- 可解释：所有“疾病筛选/活性阈值”结果必须有证据计数或关联计数提示。
- 一致性：列表/详情统一组件（表格、标签、证据卡片、关联区块 Tabs）。
- 桌面优先：>= 1280px 作为主要设计断点。

11.6.2 关键布局与组件
- 顶部：三行结构（固定）
  - 第1行：Logo/产品名 + 用户菜单
  - 第2行：顶部水平导航（入口与模块）
  - 第3行：全局搜索（位于导航下方，横向占满）
- 列表页：左侧筛选（可折叠） + 右侧表格；表格支持固定表头、行内跳转。
- 详情页：基础信息卡 + Tabs（关联数据 / 证据来源 /（可选）轻量关系图）。
- 证据展示：Reference 列表使用“证据卡片”样式（来源类型、DOI/PMID/URL、采集时间）。

11.6.3 主题与样式 Token（建议）
- 主色（浅绿色）：Primary = #6FCF97（可调整）；Primary-600 用于按钮/高亮；Primary-100 用于背景弱提示。
- 中性色：Gray-900 文本主色；Gray-100 背景；Gray-300 分割线。
- 状态色：Success（同主色系深色）、Warning（琥珀）、Danger（红）。
- 表格：行高 44px；表头加粗；hover 轻微底色。

11.7 一期交付物清单（用于排期与验收｜Definition of Done）
- 前台：
  - 全局搜索
  - 4 个入口模块：药材/化合物/靶点/方剂的列表页 + 详情页
  - 疾病库/证候库、通路库、活性记录库、LC-MS/组学索引（按需求文档第 4 章与本章字段）
  - 所有要求“按疾病筛选”的页面均按 11.2.0 实现（化合物/靶点/活性记录至少必须支持）
- 后台：字典管理、数据导入（含校验与批次追溯）、审核/发布。
- 数据侧：单位标准化规则落地（至少覆盖 IC50/EC50/Ki/MIC 常见单位），别名 1:N 结构与索引。
- 非功能：登录门槛；后台关键操作审计。
